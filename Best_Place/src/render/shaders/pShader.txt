//
//File: pShader.txt
//
//Desc: This simple pixel shader render sprites with textures
//

//
//Globals
//

sampler2D Texture;				//Texture for render
bool	  Reverse = false;		//Is texture reversed
float2	  LeftRightU;			//Left and right U coord

//
//Structures
//

struct PS_INPUT{
	float2 texCoord : TEXCOORD0;
};

struct PS_OUTPUT{
	vector color : COLOR0;
};

//
//Main
//
PS_OUTPUT Main(PS_INPUT input){
	float UCoord;			//New U coord
	float2 UVCoord;			//New UV coord

	// zero out members of output
	PS_OUTPUT output = (PS_OUTPUT)0;

	//Set color from texture
	if(!Reverse){
		output.color = tex2D(Texture, input.texCoord);
	} else{
		 UCoord = LeftRightU.y - (input.texCoord.x - LeftRightU.x);	//Calculate new U coord
		 UVCoord = float2(UCoord, input.texCoord.y);		//New UV coord

		 output.color = tex2D(Texture, UVCoord);
	}

	return output;
}